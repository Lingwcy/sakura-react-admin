import{x as J,q as e,j as n,y as ne}from"./index-Dt0_14Pi.js";import{T as ae,a as le,b as re,S as oe,c as ce,d as de,e as ue,f as he,g as me,h as xe}from"./tooltip-B9xsfphG.js";import{I as Y}from"./icon-xFcGKDrt.js";import{B as K}from"./button-Bh-1yB_S.js";import{S as fe}from"./scroll-area-H7fBi8xU.js";import{B as pe}from"./badge-Rvu-q0hM.js";import{a as ge,c as x}from"./utils-C3Yi2xE5.js";import{L as b}from"./label-DsgT2FML.js";import{S as R}from"./switch-gV_975iB.js";import{u as je}from"./use-system-CU_gGbgi.js";import{A as F,m as S}from"./proxy-DfBdFOJT.js";const ee=()=>{const i=J(t=>t.themeConfig.themeMode),s=J(t=>t.setThemeMode),a=J(t=>t.themeConfig.availableThemeMode);return{themeMode:i,setThemeMode:s,availableThemeMode:a}};function ve(){const{setThemeMode:i,availableThemeMode:s}=ee();return e.jsx("div",{className:"flex flex-row flex-wrap gap-2 p-2 ",children:Object.entries(s).map(([a,t])=>e.jsx(be,{themeMode:a,setThemeMode:i,themeColor:t},a))})}function be({themeMode:i,themeColor:s,setThemeMode:a}){const{themeMode:t}=ee(),c=t===i;return e.jsx(e.Fragment,{children:e.jsx(pe,{variant:"secondary",className:"group cursor-pointer w-8 h-20 transition",onClick:()=>a(i),children:e.jsx("div",{className:ge("w-7 h-7 transition-all duration-100 rounded-full group-hover:w-18 group-hover:h-18",c?"w-18 h-15":"w-7 h-8"),style:{backgroundColor:s}})})})}const te=n.createContext(void 0);function Ne(){const i=n.useContext(te);if(!i)throw new Error("useMotionHighlight must be used within a MotionHighlightProvider");return i}function ye({ref:i,...s}){const{children:a,value:t,defaultValue:c,onValueChange:u,className:h,transition:r={type:"spring",stiffness:350,damping:35},hover:m=!1,enabled:w=!0,controlledItems:N,disabled:M=!1,exitDelay:T=.2,mode:d="children"}=s,p=n.useRef(null);n.useImperativeHandle(i,()=>p.current);const[g,B]=n.useState(t??c??null),[f,_]=n.useState(null),[z,O]=n.useState(""),q=n.useCallback(l=>{B(o=>o===l?o:l),l!==g&&u?.(l)},[g,u]),I=n.useCallback(l=>{if(!p.current)return;const o=s?.boundsOffset??{top:0,left:0,width:0,height:0},j=p.current.getBoundingClientRect(),v={top:l.top-j.top+(o.top??0),left:l.left-j.left+(o.left??0),width:l.width+(o.width??0),height:l.height+(o.height??0)};_(y=>y&&y.top===v.top&&y.left===v.left&&y.width===v.width&&y.height===v.height?y:v)},[s]),U=n.useCallback(()=>{_(l=>l===null?l:null)},[]);n.useEffect(()=>{t!==void 0?B(t):c!==void 0&&B(c)},[t,c]);const D=n.useId();n.useEffect(()=>{if(d!=="parent")return;const l=p.current;if(!l)return;const o=()=>{if(!g)return;const j=l.querySelector(`[data-value="${g}"][data-highlight="true"]`);j&&I(j.getBoundingClientRect())};return l.addEventListener("scroll",o,{passive:!0}),()=>l.removeEventListener("scroll",o)},[d,g,I]);const L=n.useCallback(l=>d==="parent"?e.jsxs("div",{ref:p,"data-slot":"motion-highlight-container",className:x("relative",s?.containerClassName),children:[e.jsx(F,{initial:!1,children:f&&e.jsx(S.div,{"data-slot":"motion-highlight",animate:{top:f.top,left:f.left,width:f.width,height:f.height,opacity:1},initial:{top:f.top,left:f.left,width:f.width,height:f.height,opacity:0},exit:{opacity:0,transition:{...r,delay:(r?.delay??0)+(T??0)}},transition:r,className:x("absolute bg-muted z-0",h,z)})}),l]}):l,[d,s,f,r,T,h,z]);return e.jsx(te.Provider,{value:{mode:d,activeValue:g,setActiveValue:q,id:D,hover:m,className:h,transition:r,disabled:M,enabled:w,exitDelay:T,setBounds:I,clearBounds:U,activeClassName:z,setActiveClassName:O,forceUpdateBounds:s?.forceUpdateBounds},children:w?L(N?a:n.Children.map(a,(l,o)=>n.isValidElement(l)?e.jsx(se,{className:s?.itemsClassName,children:l},o):l)):a})}function Q(i,s){return Object.keys(s).reduce((a,t)=>(i.props[t]===void 0&&(a[t]=s[t]),a),{})}function se({ref:i,children:s,id:a,value:t,className:c,transition:u,disabled:h=!1,activeClassName:r,exitDelay:m,asChild:w=!1,forceUpdateBounds:N,...M}){const T=n.useId(),{activeValue:d,setActiveValue:p,mode:g,setBounds:B,clearBounds:f,hover:_,enabled:z,className:O,transition:q,id:I,disabled:U,exitDelay:D,forceUpdateBounds:L,setActiveClassName:l}=Ne(),o=s,j=a??t??o.props?.["data-value"]??o.props?.id??T,v=d===j,y=h===void 0?U:h,E=u??q,A=n.useRef(null);if(n.useImperativeHandle(i,()=>A.current),n.useEffect(()=>{if(g!=="parent")return;let C,V=null;const Z=N===!0||L&&N!==!1,G=()=>{if(!A.current)return;const H=A.current.getBoundingClientRect();if(Z){if(V&&V.top===H.top&&V.left===H.left&&V.width===H.width&&V.height===H.height){C=requestAnimationFrame(G);return}V=H,C=requestAnimationFrame(G)}B(H)};if(v?(G(),l(r??"")):d||f(),Z)return()=>cancelAnimationFrame(C)},[g,v,d,B,f,r,l,N,L]),!n.isValidElement(s))return s;const k={"data-active":v?"true":"false","aria-selected":v,"data-disabled":y,"data-value":j,"data-highlight":!0},$=_?{onMouseEnter:C=>{p(j),o.props.onMouseEnter?.(C)},onMouseLeave:C=>{p(null),o.props.onMouseLeave?.(C)}}:{onClick:C=>{p(j),o.props.onClick?.(C)}};return w?g==="children"?n.cloneElement(o,{key:j,ref:A,className:x("relative",o.props.className),...Q(o,{...k,"data-slot":"motion-highlight-item-container"}),...$,...M},e.jsxs(e.Fragment,{children:[e.jsx(F,{initial:!1,children:v&&!y&&e.jsx(S.div,{layoutId:`transition-background-${I}`,"data-slot":"motion-highlight",className:x("absolute inset-0 bg-muted z-0",O,r),transition:E,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{...E,delay:(E?.delay??0)+(m??D??0)}},...k})}),e.jsx("div",{"data-slot":"motion-highlight-item",className:x("relative z-[1]",c),...k,children:s})]})):n.cloneElement(o,{ref:A,...Q(o,{...k,"data-slot":"motion-highlight-item"}),...$}):z?e.jsxs("div",{ref:A,"data-slot":"motion-highlight-item-container",className:x(g==="children"&&"relative",c),...k,...M,...$,children:[g==="children"&&e.jsx(F,{initial:!1,children:v&&!y&&e.jsx(S.div,{layoutId:`transition-background-${I}`,"data-slot":"motion-highlight",className:x("absolute inset-0 bg-muted z-0",O,r),transition:E,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{...E,delay:(E?.delay??0)+(m??D??0)}},...k})}),n.cloneElement(o,{className:x("relative z-[1]",o.props.className),...Q(o,{...k,"data-slot":"motion-highlight-item"})})]},j):s}const ie=n.createContext(void 0);function P(){const i=n.useContext(ie);if(!i)throw new Error("useTabs must be used within a TabsProvider");return i}function we({defaultValue:i,value:s,onValueChange:a,children:t,className:c,...u}){const[h,r]=n.useState(i??void 0),m=n.useRef(new Map),w=n.useRef(!1),N=s!==void 0;n.useEffect(()=>{if(!N&&h===void 0&&m.current.size>0&&!w.current){const d=Array.from(m.current.keys())[0];r(d),w.current=!0}},[h,N]);const M=(d,p)=>{p?(m.current.set(d,p),!N&&h===void 0&&!w.current&&(r(d),w.current=!0)):m.current.delete(d)},T=d=>{N?a?.(d):r(d)};return e.jsx(ie.Provider,{value:{activeValue:s??h,handleValueChange:T,registerTrigger:M},children:e.jsx("div",{"data-slot":"tabs",className:x("flex flex-col gap-2",c),...u,children:t})})}function Ce({children:i,className:s,activeClassName:a,transition:t={type:"spring",stiffness:200,damping:25},...c}){const{activeValue:u}=P();return e.jsx(ye,{controlledItems:!0,className:x("rounded-sm bg-background shadow-sm",a),value:u,transition:t,children:e.jsx("div",{role:"tablist","data-slot":"tabs-list",className:x("bg-muted text-muted-foreground inline-flex h-10 w-fit items-center justify-center rounded-lg p-[4px]",s),...c,children:i})})}function W({ref:i,value:s,children:a,className:t,...c}){const{activeValue:u,handleValueChange:h,registerTrigger:r}=P(),m=n.useRef(null);return n.useImperativeHandle(i,()=>m.current),n.useEffect(()=>(r(s,m.current),()=>r(s,null)),[s,r]),e.jsx(se,{value:s,className:"size-full",children:e.jsx(S.button,{ref:m,"data-slot":"tabs-trigger",role:"tab",whileTap:{scale:.95},onClick:()=>h(s),"data-state":u===s?"active":"inactive",className:x("inline-flex cursor-pointer items-center size-full justify-center whitespace-nowrap rounded-sm px-2 py-1 text-sm font-medium ring-offset-background transition-transform focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground z-[1]",t),...c,children:a})})}function Se({children:i,className:s,transition:a={type:"spring",stiffness:300,damping:30,bounce:0,restDelta:.01},...t}){const{activeValue:c}=P(),u=n.Children.toArray(i),h=u.findIndex(r=>n.isValidElement(r)&&typeof r.props=="object"&&r.props!==null&&"value"in r.props&&r.props.value===c);return e.jsx("div",{"data-slot":"tabs-contents",className:x("overflow-hidden",s),...t,children:e.jsx(S.div,{className:"flex -mx-2",animate:{x:h*-100+"%"},transition:a,children:u.map((r,m)=>e.jsx("div",{className:"w-full shrink-0 px-2",children:r},m))})})}function X({children:i,value:s,className:a,...t}){const{activeValue:c}=P(),u=c===s;return e.jsx(S.div,{role:"tabpanel","data-slot":"tabs-content",className:x("overflow-hidden",a),initial:{filter:"blur(0px)"},animate:{filter:u?"blur(0px)":"blur(4px)"},exit:{filter:"blur(0px)"},transition:{type:"spring",stiffness:200,damping:25},...t,children:i})}function Te(){const{items:i,setItemHover:s,handleItemClick:a}=ne();return e.jsx("div",{className:"",children:e.jsx(F,{children:e.jsx(S.div,{className:"flex w-[350px] lg:w-[380px]   flex-wrap ",children:i.map(t=>e.jsxs("div",{className:"lg:m-2 md:m-1 flex justify-center flex-col items-center cursor-pointer",onMouseEnter:()=>s(t.key,!0),onMouseLeave:()=>s(t.key,!1),onClick:()=>a(t.key),children:[e.jsxs("div",{className:"w-[100px] h-[60px] p-1 relative",children:[t.render(),e.jsx(S.div,{className:"absolute inset-0 border-2 border-primary rounded-md",initial:{scale:0,opacity:0},animate:{scale:t.isHovered||t.isSelected?1:0,opacity:t.isHovered||t.isSelected?1:0},transition:{duration:.2,ease:"easeOut"}})]}),e.jsxs(ae,{children:[e.jsxs(le,{className:"flex space-x-0.5 items-center cursor-pointer mt-1",children:[e.jsx(b,{className:"font-light text-xs",children:t.label}),e.jsx(Y,{icon:"line-md:bell-alert-filled-loop",size:12})]}),e.jsx(re,{side:"bottom",children:e.jsx("p",{children:t.tooTip})})]})]},t.key))})})})}const ke={opacity:1};function Me(){const{showHeaderTab:i,showBreadCrumb:s,setShowBreadCrumb:a,setShowHeaderTab:t}=je();return e.jsxs(oe,{modal:!0,children:[e.jsx(ce,{asChild:!0,children:e.jsx(K,{variant:"ghost",className:"cursor-pointer",children:e.jsx(Y,{icon:"line-md:cog-filled-loop",size:25,className:"bg-background"})})}),e.jsxs(de,{style:ke,className:"max-w-xs",children:[e.jsxs(ue,{className:"border-b-1 border-primary",children:[e.jsxs(he,{className:" space-x-1",children:[e.jsx("span",{className:"text-primary",children:"偏好设置"}),e.jsx("span",{className:"text-[10px] italic text-gray-500 font-light inline-block align-top ",children:"自定义偏好设置&支持实时更新"})]}),e.jsx(me,{hidden:!0})]}),e.jsx(fe,{children:e.jsx("div",{className:"w-full flex justify-center ",children:e.jsxs(we,{className:"rounded-lg w-[320px] md:w-[310px] lg:w-[370px]",children:[e.jsxs(Ce,{className:"grid w-full grid-cols-3",children:[e.jsx(W,{value:"1",className:"text-xs",children:"外观"}),e.jsx(W,{value:"2",className:"text-xs",children:"布局"}),e.jsx(W,{value:"3",className:"text-xs",children:"通用"})]}),e.jsxs(Se,{children:[e.jsx(X,{value:"1",className:"",children:e.jsxs("div",{className:"p-1",children:[e.jsx("div",{className:"flex items-center gap-2 my-1",children:e.jsx(b,{className:"font-bold text-[15px]",children:"主题"})}),e.jsx("div",{className:"mb-5",children:e.jsx(ve,{})}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-2 my-1",children:e.jsx(b,{className:"font-bold text-[15px]",children:"其他"})}),e.jsxs("div",{className:"flex justify-between p-3",children:[e.jsx(b,{className:"font-light text-[15px]",children:"深色侧边栏"}),e.jsx(R,{className:"cursor-pointer",checked:i,onCheckedChange:t})]}),e.jsxs("div",{className:"flex justify-between p-3",children:[e.jsx(b,{className:"font-light text-[15px]",children:"深色顶栏"}),e.jsx(R,{className:"cursor-pointer",checked:i,onCheckedChange:t})]}),e.jsxs("div",{className:"flex justify-between p-3",children:[e.jsx(b,{className:"font-light text-[15px]",children:"色弱模式"}),e.jsx(R,{className:"cursor-pointer",checked:i,onCheckedChange:t})]}),e.jsxs("div",{className:"flex justify-between p-3",children:[e.jsx(b,{className:"font-light text-[15px]",children:"灰色模式"}),e.jsx(R,{className:"cursor-pointer",checked:i,onCheckedChange:t})]})]})]})}),e.jsx(X,{value:"2",className:"",children:e.jsxs("div",{className:"p-1",children:[e.jsx("div",{className:"flex items-center gap-2 my-1",children:e.jsx(b,{className:"font-bold text-[15px]",children:"布局"})}),e.jsx("div",{className:"grid grid-cols-3 mb-5",children:e.jsx(Te,{})}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-2 my-1",children:e.jsx(b,{className:"font-bold text-[15px]",children:"其他"})}),e.jsxs("div",{className:"flex justify-between p-3",children:[e.jsx(b,{className:"font-light text-[15px]",children:"导航栏Tab"}),e.jsx(R,{className:"cursor-pointer",checked:i,onCheckedChange:t})]}),e.jsxs("div",{className:"flex justify-between p-3",children:[e.jsx(b,{className:"font-light text-[15px]",children:"面包屑"}),e.jsx(R,{className:"cursor-pointer",checked:s,onCheckedChange:a})]})]})]})}),e.jsx(X,{value:"3",className:"space-y-6 p-6",children:e.jsx(K,{children:"待开发"})})]})]})})}),e.jsx(xe,{children:e.jsx(K,{variant:"outline",className:"w-full border-dashed text-text-primary hover:border-primary hover:text-primary",children:e.jsxs("div",{className:"flex items-center justify-center",children:["恢复默认设置",e.jsx(Y,{icon:"local:ic-settings-exit-fullscreen",size:25,color:"#f55188"})]})})})]})]})}const De=Object.freeze(Object.defineProperty({__proto__:null,SystemSetting:Me},Symbol.toStringTag,{value:"Module"}));export{Me as S,De as _};
