import{d as l,f}from"./index-D16PKcxo.js";import{x as o}from"./index-Dt0_14Pi.js";import{b as u}from"./use-system-CU_gGbgi.js";const S=()=>{const{availableTabs:b}=u(),d=l(),r=o(e=>e.selectedTab),a=o(e=>e.savedTabs),T=o(e=>e.addTab),c=o(e=>e.removeTab),s=o(e=>e.setSelectedTab);return{savedTabs:a,removeTab:e=>{console.log(e),console.log(r);const t=a.findIndex(i=>i.key===e);if(t===-1)return;if(e!==r){console.log("只删除"),c(e);return}if(a.length<=1){c(e),d("/"),s("");return}let n;t>=a.length-1?n=a[t-1]:n=a[t+1],c(e),s(n.key),d(n.key)},selectedTab:r,setSelectedTab:s,navigateToTab:e=>{if(a.find(n=>n.key===e)){s(e),d(e);return}const t=f(b,e);t&&(a.push(t),s(e)),d(e)},addTab:e=>{if(a.find(t=>t.key===e.key)){s(e.key);return}T(e),s(e.key)}}};export{S as u};
