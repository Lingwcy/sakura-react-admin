import{w as ht,j as o,q as p}from"./index-Dt0_14Pi.js";import{b as ie,c as V,u as G,d as gt}from"./utils-C3Yi2xE5.js";import{B as xt}from"./button-Bh-1yB_S.js";import{R as yt,P as bt,O as wt,C as Pt}from"./index-DKfN-Mm5.js";import{P as S,d as Et,c as Me}from"./index-CKYowb_g.js";import{u as K}from"./index-DDCO3UHa.js";import{u as Ee}from"./index-DUfBgAKY.js";import{u as Ct,P as At,h as Rt,R as Ot,F as St}from"./index-D0wGkoeL.js";import{u as Nt,o as It,s as kt,f as jt,a as Dt,b as _t,h as Mt,l as Ft,c as Tt,R as Lt}from"./index-RSTMEfuL.js";import{u as pe}from"./index-LYyK2LiI.js";import{u as $t}from"./index-CRQ32YH_.js";import{u as Wt}from"./index-DNbdHkaO.js";import{C as Bt}from"./chevrons-up-down-Cy7P_uN4.js";import{C as Ut}from"./check-mTwESAkB.js";/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ht=ht("search",zt);var Ne=1,Kt=.9,qt=.8,Vt=.17,he=.1,ge=.999,Gt=.9999,Yt=.99,Xt=/[\\\/_+.#"@\[\(\{&]/,Zt=/[\\\/_+.#"@\[\(\{&]/g,Jt=/[\s-]/,Fe=/[\s-]/g;function be(e,t,r,s,n,a,c){if(a===t.length)return n===e.length?Ne:Yt;var u=`${n},${a}`;if(c[u]!==void 0)return c[u];for(var d=s.charAt(a),l=r.indexOf(d,n),f=0,v,g,b,C;l>=0;)v=be(e,t,r,s,l+1,a+1,c),v>f&&(l===n?v*=Ne:Xt.test(e.charAt(l-1))?(v*=qt,b=e.slice(n,l-1).match(Zt),b&&n>0&&(v*=Math.pow(ge,b.length))):Jt.test(e.charAt(l-1))?(v*=Kt,C=e.slice(n,l-1).match(Fe),C&&n>0&&(v*=Math.pow(ge,C.length))):(v*=Vt,n>0&&(v*=Math.pow(ge,l-n))),e.charAt(l)!==t.charAt(a)&&(v*=Gt)),(v<he&&r.charAt(l-1)===s.charAt(a+1)||s.charAt(a+1)===s.charAt(a)&&r.charAt(l-1)!==s.charAt(a))&&(g=be(e,t,r,s,l+1,a+2,c),g*he>v&&(v=g*he)),v>f&&(f=v),l=r.indexOf(d,l+1);return c[u]=f,f}function Ie(e){return e.toLowerCase().replace(Fe," ")}function Qt(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,be(e,t,Ie(e),Ie(t),0,0,{})}var se='[cmdk-group=""]',xe='[cmdk-group-items=""]',er='[cmdk-group-heading=""]',Te='[cmdk-item=""]',ke=`${Te}:not([aria-disabled="true"])`,we="cmdk-item-select",J="data-value",tr=(e,t,r)=>Qt(e,t,r),Le=o.createContext(void 0),le=()=>o.useContext(Le),$e=o.createContext(void 0),Ce=()=>o.useContext($e),We=o.createContext(void 0),Be=o.forwardRef((e,t)=>{let r=Q(()=>{var i,h;return{search:"",value:(h=(i=e.value)!=null?i:e.defaultValue)!=null?h:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=Q(()=>new Set),n=Q(()=>new Map),a=Q(()=>new Map),c=Q(()=>new Set),u=Ue(e),{label:d,children:l,value:f,onValueChange:v,filter:g,shouldFilter:b,loop:C,disablePointerSelection:A=!1,vimBindings:N=!0,...j}=e,F=K(),Y=K(),D=K(),I=o.useRef(null),E=fr();q(()=>{if(f!==void 0){let i=f.trim();r.current.value=i,x.emit()}},[f]),q(()=>{E(6,H)},[]);let x=o.useMemo(()=>({subscribe:i=>(c.current.add(i),()=>c.current.delete(i)),snapshot:()=>r.current,setState:(i,h,y)=>{var m,w,P,O;if(!Object.is(r.current[i],h)){if(r.current[i]=h,i==="search")re(),_(),E(1,X);else if(i==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let R=document.getElementById(D);R?R.focus():(m=document.getElementById(F))==null||m.focus()}if(E(7,()=>{var R;r.current.selectedItemId=(R=T())==null?void 0:R.id,x.emit()}),y||E(5,H),((w=u.current)==null?void 0:w.value)!==void 0){let R=h??"";(O=(P=u.current).onValueChange)==null||O.call(P,R);return}}x.emit()}},emit:()=>{c.current.forEach(i=>i())}}),[]),k=o.useMemo(()=>({value:(i,h,y)=>{var m;h!==((m=a.current.get(i))==null?void 0:m.value)&&(a.current.set(i,{value:h,keywords:y}),r.current.filtered.items.set(i,z(h,y)),E(2,()=>{_(),x.emit()}))},item:(i,h)=>(s.current.add(i),h&&(n.current.has(h)?n.current.get(h).add(i):n.current.set(h,new Set([i]))),E(3,()=>{re(),_(),r.current.value||X(),x.emit()}),()=>{a.current.delete(i),s.current.delete(i),r.current.filtered.items.delete(i);let y=T();E(4,()=>{re(),y?.getAttribute("id")===i&&X(),x.emit()})}),group:i=>(n.current.has(i)||n.current.set(i,new Set),()=>{a.current.delete(i),n.current.delete(i)}),filter:()=>u.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:F,inputId:D,labelId:Y,listInnerRef:I}),[]);function z(i,h){var y,m;let w=(m=(y=u.current)==null?void 0:y.filter)!=null?m:tr;return i?w(i,r.current.search,h):0}function _(){if(!r.current.search||u.current.shouldFilter===!1)return;let i=r.current.filtered.items,h=[];r.current.filtered.groups.forEach(m=>{let w=n.current.get(m),P=0;w.forEach(O=>{let R=i.get(O);P=Math.max(R,P)}),h.push([m,P])});let y=I.current;L().sort((m,w)=>{var P,O;let R=m.getAttribute("id"),Z=w.getAttribute("id");return((P=i.get(Z))!=null?P:0)-((O=i.get(R))!=null?O:0)}).forEach(m=>{let w=m.closest(xe);w?w.appendChild(m.parentElement===w?m:m.closest(`${xe} > *`)):y.appendChild(m.parentElement===y?m:m.closest(`${xe} > *`))}),h.sort((m,w)=>w[1]-m[1]).forEach(m=>{var w;let P=(w=I.current)==null?void 0:w.querySelector(`${se}[${J}="${encodeURIComponent(m[0])}"]`);P?.parentElement.appendChild(P)})}function X(){let i=L().find(y=>y.getAttribute("aria-disabled")!=="true"),h=i?.getAttribute(J);x.setState("value",h||void 0)}function re(){var i,h,y,m;if(!r.current.search||u.current.shouldFilter===!1){r.current.filtered.count=s.current.size;return}r.current.filtered.groups=new Set;let w=0;for(let P of s.current){let O=(h=(i=a.current.get(P))==null?void 0:i.value)!=null?h:"",R=(m=(y=a.current.get(P))==null?void 0:y.keywords)!=null?m:[],Z=z(O,R);r.current.filtered.items.set(P,Z),Z>0&&w++}for(let[P,O]of n.current)for(let R of O)if(r.current.filtered.items.get(R)>0){r.current.filtered.groups.add(P);break}r.current.filtered.count=w}function H(){var i,h,y;let m=T();m&&(((i=m.parentElement)==null?void 0:i.firstChild)===m&&((y=(h=m.closest(se))==null?void 0:h.querySelector(er))==null||y.scrollIntoView({block:"nearest"})),m.scrollIntoView({block:"nearest"}))}function T(){var i;return(i=I.current)==null?void 0:i.querySelector(`${Te}[aria-selected="true"]`)}function L(){var i;return Array.from(((i=I.current)==null?void 0:i.querySelectorAll(ke))||[])}function ne(i){let h=L()[i];h&&x.setState("value",h.getAttribute(J))}function $(i){var h;let y=T(),m=L(),w=m.findIndex(O=>O===y),P=m[w+i];(h=u.current)!=null&&h.loop&&(P=w+i<0?m[m.length-1]:w+i===m.length?m[0]:m[w+i]),P&&x.setState("value",P.getAttribute(J))}function M(i){let h=T(),y=h?.closest(se),m;for(;y&&!m;)y=i>0?ur(y,se):dr(y,se),m=y?.querySelector(ke);m?x.setState("value",m.getAttribute(J)):$(i)}let oe=()=>ne(L().length-1),ue=i=>{i.preventDefault(),i.metaKey?oe():i.altKey?M(1):$(1)},ae=i=>{i.preventDefault(),i.metaKey?ne(0):i.altKey?M(-1):$(-1)};return o.createElement(S.div,{ref:t,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:i=>{var h;(h=j.onKeyDown)==null||h.call(j,i);let y=i.nativeEvent.isComposing||i.keyCode===229;if(!(i.defaultPrevented||y))switch(i.key){case"n":case"j":{N&&i.ctrlKey&&ue(i);break}case"ArrowDown":{ue(i);break}case"p":case"k":{N&&i.ctrlKey&&ae(i);break}case"ArrowUp":{ae(i);break}case"Home":{i.preventDefault(),ne(0);break}case"End":{i.preventDefault(),oe();break}case"Enter":{i.preventDefault();let m=T();if(m){let w=new Event(we);m.dispatchEvent(w)}}}}},o.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:mr},d),me(e,i=>o.createElement($e.Provider,{value:x},o.createElement(Le.Provider,{value:k},i))))}),rr=o.forwardRef((e,t)=>{var r,s;let n=K(),a=o.useRef(null),c=o.useContext(We),u=le(),d=Ue(e),l=(s=(r=d.current)==null?void 0:r.forceMount)!=null?s:c?.forceMount;q(()=>{if(!l)return u.item(n,c?.id)},[l]);let f=ze(n,a,[e.value,e.children,a],e.keywords),v=Ce(),g=B(E=>E.value&&E.value===f.current),b=B(E=>l||u.filter()===!1?!0:E.search?E.filtered.items.get(n)>0:!0);o.useEffect(()=>{let E=a.current;if(!(!E||e.disabled))return E.addEventListener(we,C),()=>E.removeEventListener(we,C)},[b,e.onSelect,e.disabled]);function C(){var E,x;A(),(x=(E=d.current).onSelect)==null||x.call(E,f.current)}function A(){v.setState("value",f.current,!0)}if(!b)return null;let{disabled:N,value:j,onSelect:F,forceMount:Y,keywords:D,...I}=e;return o.createElement(S.div,{ref:ie(a,t),...I,id:n,"cmdk-item":"",role:"option","aria-disabled":!!N,"aria-selected":!!g,"data-disabled":!!N,"data-selected":!!g,onPointerMove:N||u.getDisablePointerSelection()?void 0:A,onClick:N?void 0:C},e.children)}),nr=o.forwardRef((e,t)=>{let{heading:r,children:s,forceMount:n,...a}=e,c=K(),u=o.useRef(null),d=o.useRef(null),l=K(),f=le(),v=B(b=>n||f.filter()===!1?!0:b.search?b.filtered.groups.has(c):!0);q(()=>f.group(c),[]),ze(c,u,[e.value,e.heading,d]);let g=o.useMemo(()=>({id:c,forceMount:n}),[n]);return o.createElement(S.div,{ref:ie(u,t),...a,"cmdk-group":"",role:"presentation",hidden:v?void 0:!0},r&&o.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:l},r),me(e,b=>o.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?l:void 0},o.createElement(We.Provider,{value:g},b))))}),or=o.forwardRef((e,t)=>{let{alwaysRender:r,...s}=e,n=o.useRef(null),a=B(c=>!c.search);return!r&&!a?null:o.createElement(S.div,{ref:ie(n,t),...s,"cmdk-separator":"",role:"separator"})}),ar=o.forwardRef((e,t)=>{let{onValueChange:r,...s}=e,n=e.value!=null,a=Ce(),c=B(l=>l.search),u=B(l=>l.selectedItemId),d=le();return o.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),o.createElement(S.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":u,id:d.inputId,type:"text",value:n?e.value:c,onChange:l=>{n||a.setState("search",l.target.value),r?.(l.target.value)}})}),sr=o.forwardRef((e,t)=>{let{children:r,label:s="Suggestions",...n}=e,a=o.useRef(null),c=o.useRef(null),u=B(l=>l.selectedItemId),d=le();return o.useEffect(()=>{if(c.current&&a.current){let l=c.current,f=a.current,v,g=new ResizeObserver(()=>{v=requestAnimationFrame(()=>{let b=l.offsetHeight;f.style.setProperty("--cmdk-list-height",b.toFixed(1)+"px")})});return g.observe(l),()=>{cancelAnimationFrame(v),g.unobserve(l)}}},[]),o.createElement(S.div,{ref:ie(a,t),...n,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":s,id:d.listId},me(e,l=>o.createElement("div",{ref:ie(c,d.listInnerRef),"cmdk-list-sizer":""},l)))}),ir=o.forwardRef((e,t)=>{let{open:r,onOpenChange:s,overlayClassName:n,contentClassName:a,container:c,...u}=e;return o.createElement(yt,{open:r,onOpenChange:s},o.createElement(bt,{container:c},o.createElement(wt,{"cmdk-overlay":"",className:n}),o.createElement(Pt,{"aria-label":e.label,"cmdk-dialog":"",className:a},o.createElement(Be,{ref:t,...u}))))}),lr=o.forwardRef((e,t)=>B(r=>r.filtered.count===0)?o.createElement(S.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),cr=o.forwardRef((e,t)=>{let{progress:r,children:s,label:n="Loading...",...a}=e;return o.createElement(S.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":n},me(e,c=>o.createElement("div",{"aria-hidden":!0},c)))}),te=Object.assign(Be,{List:sr,Item:rr,Input:ar,Group:nr,Separator:or,Dialog:ir,Empty:lr,Loading:cr});function ur(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function dr(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function Ue(e){let t=o.useRef(e);return q(()=>{t.current=e}),t}var q=typeof window>"u"?o.useEffect:o.useLayoutEffect;function Q(e){let t=o.useRef();return t.current===void 0&&(t.current=e()),t}function B(e){let t=Ce(),r=()=>e(t.snapshot());return o.useSyncExternalStore(t.subscribe,r,r)}function ze(e,t,r,s=[]){let n=o.useRef(),a=le();return q(()=>{var c;let u=(()=>{var l;for(let f of r){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(l=f.current.textContent)==null?void 0:l.trim():n.current}})(),d=s.map(l=>l.trim());a.value(e,u,d),(c=t.current)==null||c.setAttribute(J,u),n.current=u}),n}var fr=()=>{let[e,t]=o.useState(),r=Q(()=>new Map);return q(()=>{r.current.forEach(s=>s()),r.current=new Map},[e]),(s,n)=>{r.current.set(s,n),t({})}};function pr(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function me({asChild:e,children:t},r){return e&&o.isValidElement(t)?o.cloneElement(pr(t),{ref:t.ref},r(t.props.children)):r(t)}var mr={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function vr({className:e,...t}){return p.jsx(te,{"data-slot":"command",className:V("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function hr({className:e,...t}){return p.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[p.jsx(Ht,{className:"size-4 shrink-0 opacity-50"}),p.jsx(te.Input,{"data-slot":"command-input",className:V("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function gr({className:e,...t}){return p.jsx(te.List,{"data-slot":"command-list",className:V("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function xr({...e}){return p.jsx(te.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function yr({className:e,...t}){return p.jsx(te.Group,{"data-slot":"command-group",className:V("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function br({className:e,...t}){return p.jsx(te.Item,{"data-slot":"command-item",className:V("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function W(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),r===!1||!n.defaultPrevented)return t?.(n)}}var wr="DismissableLayer",Pe="dismissableLayer.update",Pr="dismissableLayer.pointerDownOutside",Er="dismissableLayer.focusOutside",je,He=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ke=o.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:n,onFocusOutside:a,onInteractOutside:c,onDismiss:u,...d}=e,l=o.useContext(He),[f,v]=o.useState(null),g=f?.ownerDocument??globalThis?.document,[,b]=o.useState({}),C=G(t,x=>v(x)),A=Array.from(l.layers),[N]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),j=A.indexOf(N),F=f?A.indexOf(f):-1,Y=l.layersWithOutsidePointerEventsDisabled.size>0,D=F>=j,I=Rr(x=>{const k=x.target,z=[...l.branches].some(_=>_.contains(k));!D||z||(n?.(x),c?.(x),x.defaultPrevented||u?.())},g),E=Or(x=>{const k=x.target;[...l.branches].some(_=>_.contains(k))||(a?.(x),c?.(x),x.defaultPrevented||u?.())},g);return Ct(x=>{F===l.layers.size-1&&(s?.(x),!x.defaultPrevented&&u&&(x.preventDefault(),u()))},g),o.useEffect(()=>{if(f)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(je=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(f)),l.layers.add(f),De(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=je)}},[f,g,r,l]),o.useEffect(()=>()=>{f&&(l.layers.delete(f),l.layersWithOutsidePointerEventsDisabled.delete(f),De())},[f,l]),o.useEffect(()=>{const x=()=>b({});return document.addEventListener(Pe,x),()=>document.removeEventListener(Pe,x)},[]),p.jsx(S.div,{...d,ref:C,style:{pointerEvents:Y?D?"auto":"none":void 0,...e.style},onFocusCapture:W(e.onFocusCapture,E.onFocusCapture),onBlurCapture:W(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:W(e.onPointerDownCapture,I.onPointerDownCapture)})});Ke.displayName=wr;var Cr="DismissableLayerBranch",Ar=o.forwardRef((e,t)=>{const r=o.useContext(He),s=o.useRef(null),n=G(t,s);return o.useEffect(()=>{const a=s.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),p.jsx(S.div,{...e,ref:n})});Ar.displayName=Cr;function Rr(e,t=globalThis?.document){const r=Ee(e),s=o.useRef(!1),n=o.useRef(()=>{});return o.useEffect(()=>{const a=u=>{if(u.target&&!s.current){let d=function(){qe(Pr,r,l,{discrete:!0})};const l={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",n.current),n.current=d,t.addEventListener("click",n.current,{once:!0})):d()}else t.removeEventListener("click",n.current);s.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",a),t.removeEventListener("click",n.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function Or(e,t=globalThis?.document){const r=Ee(e),s=o.useRef(!1);return o.useEffect(()=>{const n=a=>{a.target&&!s.current&&qe(Er,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",n),()=>t.removeEventListener("focusin",n)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function De(){const e=new CustomEvent(Pe);document.dispatchEvent(e)}function qe(e,t,r,{discrete:s}){const n=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&n.addEventListener(e,t,{once:!0}),s?Et(n,a):n.dispatchEvent(a)}var ye=0;function Sr(){o.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??_e()),document.body.insertAdjacentElement("beforeend",e[1]??_e()),ye++,()=>{ye===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ye--}},[])}function _e(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ae="Popper",[Ve,Ge]=Me(Ae),[Nr,Ye]=Ve(Ae),Xe=e=>{const{__scopePopper:t,children:r}=e,[s,n]=o.useState(null);return p.jsx(Nr,{scope:t,anchor:s,onAnchorChange:n,children:r})};Xe.displayName=Ae;var Ze="PopperAnchor",Je=o.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...n}=e,a=Ye(Ze,r),c=o.useRef(null),u=G(t,c),d=o.useRef(null);return o.useEffect(()=>{const l=d.current;d.current=s?.current||c.current,l!==d.current&&a.onAnchorChange(d.current)}),s?null:p.jsx(S.div,{...n,ref:u})});Je.displayName=Ze;var Re="PopperContent",[Ir,kr]=Ve(Re),Qe=o.forwardRef((e,t)=>{const{__scopePopper:r,side:s="bottom",sideOffset:n=0,align:a="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:l=[],collisionPadding:f=0,sticky:v="partial",hideWhenDetached:g=!1,updatePositionStrategy:b="optimized",onPlaced:C,...A}=e,N=Ye(Re,r),[j,F]=o.useState(null),Y=G(t,P=>F(P)),[D,I]=o.useState(null),E=$t(D),x=E?.width??0,k=E?.height??0,z=s+(a!=="center"?"-"+a:""),_=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},X=Array.isArray(l)?l:[l],re=X.length>0,H={padding:_,boundary:X.filter(Dr),altBoundary:re},{refs:T,floatingStyles:L,placement:ne,isPositioned:$,middlewareData:M}=Nt({strategy:"fixed",placement:z,whileElementsMounted:(...P)=>Tt(...P,{animationFrame:b==="always"}),elements:{reference:N.anchor},middleware:[It({mainAxis:n+k,alignmentAxis:c}),d&&kt({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?Ft():void 0,...H}),d&&jt({...H}),Dt({...H,apply:({elements:P,rects:O,availableWidth:R,availableHeight:Z})=>{const{width:mt,height:vt}=O.reference,de=P.floating.style;de.setProperty("--radix-popper-available-width",`${R}px`),de.setProperty("--radix-popper-available-height",`${Z}px`),de.setProperty("--radix-popper-anchor-width",`${mt}px`),de.setProperty("--radix-popper-anchor-height",`${vt}px`)}}),D&&_t({element:D,padding:u}),_r({arrowWidth:x,arrowHeight:k}),g&&Mt({strategy:"referenceHidden",...H})]}),[oe,ue]=rt(ne),ae=Ee(C);pe(()=>{$&&ae?.()},[$,ae]);const i=M.arrow?.x,h=M.arrow?.y,y=M.arrow?.centerOffset!==0,[m,w]=o.useState();return pe(()=>{j&&w(window.getComputedStyle(j).zIndex)},[j]),p.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:$?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:m,"--radix-popper-transform-origin":[M.transformOrigin?.x,M.transformOrigin?.y].join(" "),...M.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(Ir,{scope:r,placedSide:oe,onArrowChange:I,arrowX:i,arrowY:h,shouldHideArrow:y,children:p.jsx(S.div,{"data-side":oe,"data-align":ue,...A,ref:Y,style:{...A.style,animation:$?void 0:"none"}})})})});Qe.displayName=Re;var et="PopperArrow",jr={top:"bottom",right:"left",bottom:"top",left:"right"},tt=o.forwardRef(function(t,r){const{__scopePopper:s,...n}=t,a=kr(et,s),c=jr[a.placedSide];return p.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:p.jsx(Lt,{...n,ref:r,style:{...n.style,display:"block"}})})});tt.displayName=et;function Dr(e){return e!==null}var _r=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:s,middlewareData:n}=t,c=n.arrow?.centerOffset!==0,u=c?0:e.arrowWidth,d=c?0:e.arrowHeight,[l,f]=rt(r),v={start:"0%",center:"50%",end:"100%"}[f],g=(n.arrow?.x??0)+u/2,b=(n.arrow?.y??0)+d/2;let C="",A="";return l==="bottom"?(C=c?v:`${g}px`,A=`${-d}px`):l==="top"?(C=c?v:`${g}px`,A=`${s.floating.height+d}px`):l==="right"?(C=`${-d}px`,A=c?v:`${b}px`):l==="left"&&(C=`${s.floating.width+d}px`,A=c?v:`${b}px`),{data:{x:C,y:A}}}});function rt(e){const[t,r="center"]=e.split("-");return[t,r]}var Mr=Xe,nt=Je,Fr=Qe,Tr=tt;function Lr(e,t){return o.useReducer((r,s)=>t[r][s]??r,e)}var Oe=e=>{const{present:t,children:r}=e,s=$r(t),n=typeof r=="function"?r({present:s.isPresent}):o.Children.only(r),a=G(s.ref,Wr(n));return typeof r=="function"||s.isPresent?o.cloneElement(n,{ref:a}):null};Oe.displayName="Presence";function $r(e){const[t,r]=o.useState(),s=o.useRef(null),n=o.useRef(e),a=o.useRef("none"),c=e?"mounted":"unmounted",[u,d]=Lr(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const l=fe(s.current);a.current=u==="mounted"?l:"none"},[u]),pe(()=>{const l=s.current,f=n.current;if(f!==e){const g=a.current,b=fe(l);e?d("MOUNT"):b==="none"||l?.display==="none"?d("UNMOUNT"):d(f&&g!==b?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,d]),pe(()=>{if(t){let l;const f=t.ownerDocument.defaultView??window,v=b=>{const A=fe(s.current).includes(CSS.escape(b.animationName));if(b.target===t&&A&&(d("ANIMATION_END"),!n.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",l=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},g=b=>{b.target===t&&(a.current=fe(s.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{f.clearTimeout(l),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:o.useCallback(l=>{s.current=l?getComputedStyle(l):null,r(l)},[])}}function fe(e){return e?.animationName||"none"}function Wr(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ve="Popover",[ot,bn]=Me(ve,[Ge]),ce=Ge(),[Br,U]=ot(ve),at=e=>{const{__scopePopover:t,children:r,open:s,defaultOpen:n,onOpenChange:a,modal:c=!1}=e,u=ce(t),d=o.useRef(null),[l,f]=o.useState(!1),[v,g]=Wt({prop:s,defaultProp:n??!1,onChange:a,caller:ve});return p.jsx(Mr,{...u,children:p.jsx(Br,{scope:t,contentId:K(),triggerRef:d,open:v,onOpenChange:g,onOpenToggle:o.useCallback(()=>g(b=>!b),[g]),hasCustomAnchor:l,onCustomAnchorAdd:o.useCallback(()=>f(!0),[]),onCustomAnchorRemove:o.useCallback(()=>f(!1),[]),modal:c,children:r})})};at.displayName=ve;var st="PopoverAnchor",Ur=o.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,n=U(st,r),a=ce(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=n;return o.useEffect(()=>(c(),()=>u()),[c,u]),p.jsx(nt,{...a,...s,ref:t})});Ur.displayName=st;var it="PopoverTrigger",lt=o.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,n=U(it,r),a=ce(r),c=G(t,n.triggerRef),u=p.jsx(S.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":pt(n.open),...s,ref:c,onClick:W(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?u:p.jsx(nt,{asChild:!0,...a,children:u})});lt.displayName=it;var Se="PopoverPortal",[zr,Hr]=ot(Se,{forceMount:void 0}),ct=e=>{const{__scopePopover:t,forceMount:r,children:s,container:n}=e,a=U(Se,t);return p.jsx(zr,{scope:t,forceMount:r,children:p.jsx(Oe,{present:r||a.open,children:p.jsx(At,{asChild:!0,container:n,children:s})})})};ct.displayName=Se;var ee="PopoverContent",ut=o.forwardRef((e,t)=>{const r=Hr(ee,e.__scopePopover),{forceMount:s=r.forceMount,...n}=e,a=U(ee,e.__scopePopover);return p.jsx(Oe,{present:s||a.open,children:a.modal?p.jsx(qr,{...n,ref:t}):p.jsx(Vr,{...n,ref:t})})});ut.displayName=ee;var Kr=gt("PopoverContent.RemoveScroll"),qr=o.forwardRef((e,t)=>{const r=U(ee,e.__scopePopover),s=o.useRef(null),n=G(t,s),a=o.useRef(!1);return o.useEffect(()=>{const c=s.current;if(c)return Rt(c)},[]),p.jsx(Ot,{as:Kr,allowPinchZoom:!0,children:p.jsx(dt,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:W(e.onCloseAutoFocus,c=>{c.preventDefault(),a.current||r.triggerRef.current?.focus()}),onPointerDownOutside:W(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,l=u.button===2||d;a.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:W(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),Vr=o.forwardRef((e,t)=>{const r=U(ee,e.__scopePopover),s=o.useRef(!1),n=o.useRef(!1);return p.jsx(dt,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(s.current||r.triggerRef.current?.focus(),a.preventDefault()),s.current=!1,n.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const c=a.target;r.triggerRef.current?.contains(c)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&n.current&&a.preventDefault()}})}),dt=o.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:n,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:l,onInteractOutside:f,...v}=e,g=U(ee,r),b=ce(r);return Sr(),p.jsx(St,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:n,onUnmountAutoFocus:a,children:p.jsx(Ke,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:f,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:l,onDismiss:()=>g.onOpenChange(!1),children:p.jsx(Fr,{"data-state":pt(g.open),role:"dialog",id:g.contentId,...b,...v,ref:t,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ft="PopoverClose",Gr=o.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,n=U(ft,r);return p.jsx(S.button,{type:"button",...s,ref:t,onClick:W(e.onClick,()=>n.onOpenChange(!1))})});Gr.displayName=ft;var Yr="PopoverArrow",Xr=o.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,n=ce(r);return p.jsx(Tr,{...n,...s,ref:t})});Xr.displayName=Yr;function pt(e){return e?"open":"closed"}var Zr=at,Jr=lt,Qr=ct,en=ut;function tn({...e}){return p.jsx(Zr,{"data-slot":"popover",...e})}function rn({...e}){return p.jsx(Jr,{"data-slot":"popover-trigger",...e})}function nn({className:e,align:t="center",sideOffset:r=4,...s}){return p.jsx(Qr,{children:p.jsx(en,{"data-slot":"popover-content",align:t,sideOffset:r,className:V("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...s})})}function on({list:e,value:t,onChange:r,placeholder:s="选择父节点"}){const[n,a]=o.useState(!1),c=e??[];return p.jsxs(tn,{open:n,onOpenChange:a,modal:!1,children:[p.jsx(rn,{asChild:!0,children:p.jsxs(xt,{variant:"outline",role:"combobox","aria-expanded":n,className:"w-full justify-between",children:[p.jsx("span",{className:"truncate w-[200px] lg:w-[300px]",children:t?c.find(u=>u.id===t)?.label:s}),p.jsx(Bt,{className:"opacity-50"})]})}),p.jsx(nn,{className:"p-0",style:{pointerEvents:"auto"},children:p.jsxs(vr,{children:[p.jsx(hr,{placeholder:"搜索节点",className:"h-9"}),p.jsxs(gr,{children:[p.jsx(xr,{children:"没有任何父节点"}),p.jsx(yr,{children:e.map(u=>p.jsxs(br,{value:u.id,keywords:[u.label],onSelect:d=>{r?.(d===t?"":d),a(!1)},children:[u.label,p.jsx(Ut,{className:V("ml-auto",t===u.id?"opacity-100":"opacity-0")})]},u.id))})]})]})})]})}const wn=Object.freeze(Object.defineProperty({__proto__:null,SelectParentsBox:on},Symbol.toStringTag,{value:"Module"}));export{vr as C,tn as P,on as S,wn as _,rn as a,nn as b,hr as c,gr as d,xr as e,yr as f,br as g};
