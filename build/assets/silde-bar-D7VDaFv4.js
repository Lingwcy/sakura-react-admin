import{w as I,q as e,z as V,j as u}from"./index-Dt0_14Pi.js";import{N as K,c as W}from"./index-D16PKcxo.js";import{R as J,C as Q,a as X}from"./index-Bd-46YKN.js";import{c as Y,d as j,e as v,f as b,g as Z,h as ee,i as ae,u as T,j as te,k as re,l as se,m as ne,n as oe}from"./sidebar-BfG8zkyC.js";import{a as ie,b as le}from"./use-system-CU_gGbgi.js";import{u as de}from"./use-tabs-Uck68xDz.js";import{C as ce}from"./chevron-right-BSxBQVNA.js";import{c as ue,P as A}from"./index-CKYowb_g.js";import{u as me}from"./index-DUfBgAKY.js";import{u as y}from"./index-LYyK2LiI.js";import{c as E}from"./utils-C3Yi2xE5.js";import{D,a as P,b as $,c as fe,d as p,g as q,h as xe,e as he}from"./dropdown-menu-n5R-uBqd.js";import{C as pe}from"./chevrons-up-down-Cy7P_uN4.js";import{B as ge}from"./badge-check-C2pyvQKH.js";import{F as je}from"./flower-Cu3hOEmd.js";import{P as ve}from"./plus-CekRI_xG.js";import{S as be}from"./scroll-area-H7fBi8xU.js";/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ne=I("bell",Se);/**
 * @license lucide-react v0.526.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ce=I("log-out",we);function ye({...a}){return e.jsx(J,{"data-slot":"collapsible",...a})}function Ae({...a}){return e.jsx(Q,{"data-slot":"collapsible-trigger",...a})}function Ee({...a}){return e.jsx(X,{"data-slot":"collapsible-content",...a})}function Me({items:a}){const{handleSetCurrentBread:r}=ie(),{addTab:n}=de(),o=s=>{n(s)};return e.jsx(Y,{children:e.jsx(j,{children:a.filter(s=>s).sort((s,t)=>s.order-t.order).map(s=>e.jsx(ye,{asChild:!0,defaultOpen:s.hide,className:"group/collapsible",children:e.jsxs(v,{children:[e.jsx(Ae,{asChild:!0,children:e.jsxs(b,{tooltip:s.label,children:[e.jsx("div",{className:"text-foreground p-1 rounded",children:s.icon}),e.jsx("span",{className:"text-foreground font-bold",children:s.label}),e.jsx(ce,{className:"ml-auto transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90"})]})}),e.jsx(Ee,{children:e.jsx(Z,{children:s.children?.map(t=>e.jsx(ee,{children:e.jsx(ae,{asChild:!0,children:e.jsx(K,{to:t.key,onClick:()=>{r(t.key),o(t)},children:e.jsx("span",{className:"text-foreground",children:t.label})})})},t.label))})})]})},s.label))})})}var w={exports:{}},C={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L;function Le(){if(L)return C;L=1;var a=V();function r(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var n=typeof Object.is=="function"?Object.is:r,o=a.useState,s=a.useEffect,t=a.useLayoutEffect,f=a.useDebugValue;function d(i,l){var h=l(),S=o({inst:{value:h,getSnapshot:l}}),m=S[0].inst,N=S[1];return t(function(){m.value=h,m.getSnapshot=l,c(m)&&N({inst:m})},[i,h,l]),s(function(){return c(m)&&N({inst:m}),i(function(){c(m)&&N({inst:m})})},[i]),f(h),h}function c(i){var l=i.getSnapshot;i=i.value;try{var h=l();return!n(i,h)}catch{return!0}}function x(i,l){return l()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?x:d;return C.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:g,C}var k;function ke(){return k||(k=1,w.exports=Le()),w.exports}var Re=ke();function _e(){return Re.useSyncExternalStore(ze,()=>!0,()=>!1)}function ze(){return()=>{}}var M="Avatar",[Ie,oa]=ue(M),[Te,B]=Ie(M),F=u.forwardRef((a,r)=>{const{__scopeAvatar:n,...o}=a,[s,t]=u.useState("idle");return e.jsx(Te,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:t,children:e.jsx(A.span,{...o,ref:r})})});F.displayName=M;var U="AvatarImage",H=u.forwardRef((a,r)=>{const{__scopeAvatar:n,src:o,onLoadingStatusChange:s=()=>{},...t}=a,f=B(U,n),d=De(o,t),c=me(x=>{s(x),f.onImageLoadingStatusChange(x)});return y(()=>{d!=="idle"&&c(d)},[d,c]),d==="loaded"?e.jsx(A.img,{...t,ref:r,src:o}):null});H.displayName=U;var O="AvatarFallback",G=u.forwardRef((a,r)=>{const{__scopeAvatar:n,delayMs:o,...s}=a,t=B(O,n),[f,d]=u.useState(o===void 0);return u.useEffect(()=>{if(o!==void 0){const c=window.setTimeout(()=>d(!0),o);return()=>window.clearTimeout(c)}},[o]),f&&t.imageLoadingStatus!=="loaded"?e.jsx(A.span,{...s,ref:r}):null});G.displayName=O;function R(a,r){return a?r?(a.src!==r&&(a.src=r),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function De(a,{referrerPolicy:r,crossOrigin:n}){const o=_e(),s=u.useRef(null),t=o?(s.current||(s.current=new window.Image),s.current):null,[f,d]=u.useState(()=>R(t,a));return y(()=>{d(R(t,a))},[t,a]),y(()=>{const c=i=>()=>{d(i)};if(!t)return;const x=c("loaded"),g=c("error");return t.addEventListener("load",x),t.addEventListener("error",g),r&&(t.referrerPolicy=r),typeof n=="string"&&(t.crossOrigin=n),()=>{t.removeEventListener("load",x),t.removeEventListener("error",g)}},[t,n,r]),f}var Pe=F,$e=H,qe=G;function _({className:a,...r}){return e.jsx(Pe,{"data-slot":"avatar",className:E("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...r})}function Be({className:a,...r}){return e.jsx($e,{"data-slot":"avatar-image",className:E("aspect-square size-full",a),...r})}function z({className:a,...r}){return e.jsx(qe,{"data-slot":"avatar-fallback",className:E("bg-muted flex size-full items-center justify-center rounded-full",a),...r})}function Fe({user:a}){const{isMobile:r}=T();return!a||!a.name||!a.email||!a.avatar?e.jsx(j,{children:e.jsx(v,{children:e.jsxs(b,{size:"lg",disabled:!0,children:[e.jsx(_,{className:"h-8 w-8 rounded-lg",children:e.jsx(z,{className:"rounded-lg",children:"--"})}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-medium",children:"加载中..."}),e.jsx("span",{className:"truncate text-xs",children:"--"})]})]})})}):e.jsx(j,{children:e.jsx(v,{children:e.jsxs(D,{children:[e.jsx(P,{asChild:!0,children:e.jsxs(b,{size:"lg",className:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground",children:[e.jsxs(_,{className:"h-8 w-8 rounded-lg",children:[e.jsx(Be,{src:a.avatar,alt:a.name}),e.jsx(z,{className:"rounded-lg",children:"CN"})]}),e.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[e.jsx("span",{className:"truncate font-medium",children:a.name}),e.jsx("span",{className:"truncate text-xs",children:a.email})]}),e.jsx(pe,{className:"ml-auto size-4"})]})}),e.jsxs($,{className:"w-(--radix-dropdown-menu-trigger-width) min-w-56 rounded-lg",side:r?"bottom":"right",align:"end",sideOffset:4,children:[e.jsxs(fe,{children:[e.jsxs(p,{children:[e.jsx(ge,{}),"账户"]}),e.jsxs(p,{children:[e.jsx(Ne,{}),"通知"]})]}),e.jsx(q,{}),e.jsxs(p,{children:[e.jsx(Ce,{}),"登出"]})]})]})})})}function Ue({teams:a}){const{isMobile:r}=T(),[n,o]=u.useState(a[0]);return n?e.jsx(j,{children:e.jsx(v,{children:e.jsxs(D,{children:[e.jsx(P,{asChild:!0,children:e.jsxs(b,{size:"lg",className:"data-[state=open]:bg-sidebar-accent pointer-events-none select-none data-[state=open]:text-sidebar-accent-foreground bg-primary ",children:[e.jsx("div",{className:"text-sidebar-primary-foreground flex aspect-square size-8 items-center justify-center rounded-lg bg-background",children:e.jsx(je,{className:"size-4 text-foreground"})}),e.jsxs("div",{className:"grid flex-1 text-left text-md italic leading-tight",children:[e.jsx("span",{className:"truncate text-background font-bold",children:n.name}),e.jsx("span",{className:"truncate text-xs",children:n.plan})]})]})}),e.jsxs($,{className:"w-(--radix-dropdown-menu-trigger-width) min-w-56 rounded-lg ",align:"start",side:r?"bottom":"right",sideOffset:4,children:[e.jsx(xe,{className:"text-muted-foreground text-xs",children:"项目"}),a.map((s,t)=>e.jsxs(p,{onClick:()=>o(s),className:"gap-2 p-2",children:[e.jsx("div",{className:"flex size-6 items-center justify-center rounded-md border",children:e.jsx(s.logo,{className:"size-3.5 shrink-0"})}),s.name,e.jsxs(he,{children:["⌘",t+1]})]},s.name)),e.jsx(q,{}),e.jsxs(p,{className:"gap-2 p-2 ",children:[e.jsx("div",{className:"flex size-6 items-center justify-center rounded-md border bg-transparent",children:e.jsx(ve,{className:"size-4"})}),e.jsx("div",{className:"text-muted-foreground font-medium",children:"Add team"})]})]})]})})}):null}function ia({...a}){const{sidebarTeams:r,availableTabs:n}=le(),{userProfile:o}=W();return e.jsxs(te,{collapsible:"icon",...a,className:"border-r-2 border-gray-300",children:[e.jsx(re,{className:"",children:e.jsx(Ue,{teams:r})}),e.jsx(se,{children:e.jsx(be,{className:"h-full",children:e.jsx(Me,{items:n})})}),e.jsx(ne,{children:e.jsx(Fe,{user:o})}),e.jsx(oe,{})]})}export{ia as A};
